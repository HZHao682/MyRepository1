<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
<meta charset="UTF-8">
<title>找工作</title>
	<link rel="stylesheet" type="text/css" th:href="@{css/head.css}" />
	<link type="text/css" rel="stylesheet" th:href="@{css/treeBox.css}" />
	<link type="text/css" rel="stylesheet" th:href="@{css/list.css}" />
	<link type="text/css" rel="stylesheet" th:href="@{css/hzw-city-picker.css}">
	<link type="text/css" rel="stylesheet" th:href="@{css/demo.css}" />
</head>
	<style>
        button {
            background: #1AAB8A;
            color: #fff;
            border: none;
            position: relative;
            height: 50px;
            font-size: 1.6em;
            padding: 0 2em;
            cursor: pointer;
            transition: 800ms ease all;
            outline: none;
        }

            button:hover {
                background: #fff;
                color: #1AAB8A;
            }

            button:before, button:after {
                content: '';
                position: absolute;
                top: 0;
                right: 0;
                height: 2px;
                width: 0;
                background: #1AAB8A;
                transition: 400ms ease all;
            }

            button:after {
                right: inherit;
                top: inherit;
                left: 0;
                bottom: 0;
            }

            button:hover:before, button:hover:after {
                width: 100%;
                transition: 800ms ease all;
            }
	</style>
<body>
	<div class="m-head">
		<div class="m-head-slider">
			<a href="#"></a>
		</div>
		<div class="m-head-bar">
			<div th:if="${username} eq null" class="c-wrapper">
				<a href="#">帮助中心</a>
				<a href="/login"  id="login">登录</a>
				<span>|</span>
				<a href="/register" id="register">免费入驻</a>
				<span>|</span>
				<a href="/ep_login">企业入口</a>
			</div>
			<div th:if="${username} ne null" class="c-wrapper">
				<a href="#">帮助中心</a>
				<a id="user_name" th:text="'用户：' + ${username}"></a>
				<span>|</span>	
				<a href="/logout" id="logout">注销</a>
			</div>
		</div>
		<div class="m-head-nav">
			<ul class="c-wrapper">
				<li class="m-head-nav-logo">
					<a href="/main"><img src="img/logo.ico" alt="66招聘网">66招聘网</a>
				</li>
	
				<li class="m-head-nav-item ">
					<a href="/main">首页</a>
				</li>
	
				<li class="m-head-nav-item  active">
					<a href="/job">找工作</a>
				</li>
	
				<li class="m-head-nav-item  ">
					<a href="/findEnterprise">找企业</a>
				</li>
	
				<li class="m-head-nav-item m-head-nav-right ">
					<a href="#">个人中心</a>
				</li>
	
			</ul>
		</div>
	</div>
	<div style="width: 300px;background-color: #EBD8F1;">
		<form id="searchForm">
			<div>
				<div id="treeBox" style="text-align:center;margin-top:50px;"><!--id必须是treeBox  -->
					<input class="focusEl" id="job" type="text" placeholder="请选择工作类型">
					<input class="jobType" type="hidden" name="jobType[]" value="">
					<input class="jobType" type="hidden" name="jobType[]" value="">
					<input class="jobType" type="hidden" name="jobType[]" value="">
				</div>
			</div>
			<div id="cityBox">
				<input type="text"  class="city" id="cityChoice" placeholder="请选择工作地址" style=" margin-left:10px;margin-top:40px;width:240px;">
			</div>
			<div>
				<button href="javascript:;" id="search" name="search" style="text-align:center;margin-top:20px;margin-left:10px;">搜索</button>
			</div>
		</form>
		<div>
			<div class="cation-content" style=" margin-left:10px;width:240px;">
	            <div style="height:50px"></div> <!-- 可以删除 -->
	            <div class="cation-middle">
	                <dl class="cation-list">
	                    <dt>薪资区间</dt>
	                    <dd>
	                        <a href="#" rel="" name="speciality" class="all on">全部</a>
	                        <a href="#" rel="3K以下" name="speciality" class="default">3K以下</a>
	                        <a href="#" rel="3K - 6K" name="speciality" class="default">3K - 6K</a>
	                        <a href="#" rel="6K - 10K" name="speciality" class="default">6K - 10K</a>
	                        <a href="#" rel="10K - 15K" name="speciality" class="default">10K - 15K0</a>
	                        <a href="#" rel="20K - 30K" name="speciality" class="default">20K - 30K</a>
	                        <a href="#" rel="30K以上" name="speciality" class="default">30K以上</a>
	                    </dd>
	                </dl>
	            </div>
	        </div>
		</div>
	</div>
	<div style=" margin-left:260px;margin-top:-590px;">
	    <!-- coidea:loader START -->
	    <div class="loader">
	        <div class="lds-ripple">
	            <div></div>
	            <div></div>
	        </div>
	    </div>
	    
	    <!-- coidea:sidebar END -->
	    <!-- coidea:header START -->
	    <header>
	    </header>
	    <!-- coidea:header END -->
	    <!-- coidea:grid-list START -->
	    <section class="grid-holder">
	
	        <!-- coidea:grid-list:navigation+switcher START -->
	        <div class="grid-list-layout">
	
	
	            <div class="grid-list-holder">
	                <span class="grid-layout active">
	                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                         viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
	                    <g>
	                    <g>
	                    <path d="M176.792,0H59.208C26.561,0,0,26.561,0,59.208v117.584C0,209.439,26.561,236,59.208,236h117.584
	                C209.439,236,236,209.439,236,176.792V59.208C236,26.561,209.439,0,176.792,0z M196,176.792c0,10.591-8.617,19.208-19.208,19.208
	                H59.208C48.617,196,40,187.383,40,176.792V59.208C40,48.617,48.617,40,59.208,40h117.584C187.383,40,196,48.617,196,59.208
	                V176.792z" />
	            </g>
	          </g>
	                    <g>
	                    <g>
	                    <path d="M452,0H336c-33.084,0-60,26.916-60,60v116c0,33.084,26.916,60,60,60h116c33.084,0,60-26.916,60-60V60
	                C512,26.916,485.084,0,452,0z M472,176c0,11.028-8.972,20-20,20H336c-11.028,0-20-8.972-20-20V60c0-11.028,8.972-20,20-20h116
	                c11.028,0,20,8.972,20,20V176z" />
	            </g>
	          </g>
	                    <g>
	                    <g>
	                    <path d="M176.792,276H59.208C26.561,276,0,302.561,0,335.208v117.584C0,485.439,26.561,512,59.208,512h117.584
	                C209.439,512,236,485.439,236,452.792V335.208C236,302.561,209.439,276,176.792,276z M196,452.792
	                c0,10.591-8.617,19.208-19.208,19.208H59.208C48.617,472,40,463.383,40,452.792V335.208C40,324.617,48.617,316,59.208,316h117.584
	                c10.591,0,19.208,8.617,19.208,19.208V452.792z" />
	            </g>
	          </g>
	                    <g>
	                    <g>
	                    <path d="M452,276H336c-33.084,0-60,26.916-60,60v116c0,33.084,26.916,60,60,60h116c33.084,0,60-26.916,60-60V336
	                C512,302.916,485.084,276,452,276z M472,452c0,11.028-8.972,20-20,20H336c-11.028,0-20-8.972-20-20V336c0-11.028,8.972-20,20-20
	                h116c11.028,0,20,8.972,20,20V452z" />
	            </g>
	          </g>
	                    <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g>
	          </svg>
	                </span>
	                <span class="list-layout">
	                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                         viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
	                    <g>
	                    <g>
	                    <path d="M100.923,0C64.276,0,34.462,29.814,34.462,66.462s29.814,66.462,66.462,66.462c36.647,0,66.462-29.814,66.462-66.462
	          S137.57,0,100.923,0z M100.923,103.385C80.563,103.385,64,86.821,64,66.462s16.563-36.923,36.923-36.923
	          c20.36,0,36.923,16.563,36.923,36.923S121.283,103.385,100.923,103.385z" />
	      </g>
	    </g>
	                    <g>
	                    <g>
	                    <path d="M462.769,22.154h-256c-8.157,0-14.769,6.613-14.769,14.769V96c0,8.157,6.613,14.769,14.769,14.769h256
	          c8.157,0,14.769-6.613,14.769-14.769V36.923C477.538,28.767,470.926,22.154,462.769,22.154z M448,81.231H221.538V51.692H448
	          V81.231z" />
	      </g>
	    </g>
	                    <g>
	                    <g>
	                    <path d="M100.923,189.538c-36.647,0-66.462,29.814-66.462,66.462s29.814,66.462,66.462,66.462
	          c36.647,0,66.462-29.814,66.462-66.462S137.57,189.538,100.923,189.538z M100.923,292.923C80.563,292.923,64,276.36,64,256
	          s16.563-36.923,36.923-36.923c20.36,0,36.923,16.563,36.923,36.923S121.283,292.923,100.923,292.923z" />
	      </g>
	    </g>
	                    <g>
	                    <g>
	                    <path d="M462.769,211.692h-256c-8.157,0-14.769,6.613-14.769,14.769v59.077c0,8.157,6.613,14.769,14.769,14.769h256
	          c8.157,0,14.769-6.613,14.769-14.769v-59.077C477.538,218.305,470.926,211.692,462.769,211.692z M448,270.769H221.538v-29.538H448
	          V270.769z" />
	      </g>
	    </g>
	                    <g>
	                    <g>
	                    <path d="M100.923,379.077c-36.647,0-66.462,29.814-66.462,66.462S64.276,512,100.923,512c36.647,0,66.462-29.814,66.462-66.462
	          S137.57,379.077,100.923,379.077z M100.923,482.462c-20.36,0-36.923-16.563-36.923-36.923c0-20.36,16.563-36.923,36.923-36.923
	          c20.36,0,36.923,16.563,36.923,36.923C137.846,465.898,121.283,482.462,100.923,482.462z" />
	      </g>
	    </g>
	                    <g>
	                    <g>
	                    <path d="M462.769,401.231h-256c-8.157,0-14.769,6.613-14.769,14.769v59.077c0,8.157,6.613,14.769,14.769,14.769h256
	          c8.157,0,14.769-6.613,14.769-14.769V416C477.538,407.843,470.926,401.231,462.769,401.231z M448,460.308H221.538v-29.538H448
	          V460.308z" />
	      </g>
	    </g>
	                    <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g> <g></g>
	          </svg>
	                </span>
	            </div>
	        </div>
	        <!-- coidea:grid-list:navigation+switcher END -->
	        <!-- coidea:grid-list:main-section START -->
	        <div >
	        <div class="grid masonry" id="recruitment_inf">
	
	            <div class="masonry__item" th:if="${selectJob} ne null" th:each="selectJob:${selectJob}">
	                <figure>
	                    <figcaption class="content">
	                        <h2 th:text="${selectJob.re_job}"></h2>
	                        <p class="date" th:text="${selectJob.ep_name}+' '+${selectJob.re_time}"></p>
	                        <ul class="tags">
	                            <li><a href="#!" th:text="${selectJob.re_city}"></a></li>
	                            <li><a href="#!" th:text="'月薪'+${selectJob.re_speciality}"></a></li>
	                            <li><a href="#!" th:text="'招聘人数'+${selectJob.re_num}"></a></li>
	                            <li><a href="#!" th:text="'点击人数'+${selectJob.re_clicknum}"></a></li>
	                            <li><a href="#!" class="more" data-click-state="1">+</a></li>
	                        </ul>
	                        <ul class="tags">
	                        	<li><a th:href="@{'/jobDetail?re_id='+${selectJob.re_id}}" th:text="详细信息"></a></li>
	                        </ul>
	                    </figcaption>
	                </figure>
	            </div>	
	        </div>	        
	        <div th:if="${jobLength} eq 0" align="center" style="color:#DDC3E2; font-size:50px;">暂无数据.......</div>
		</div>
	        <!-- coidea:grid-list:main-section END -->
	
	    </section>
	    <!-- coidea:grid-list END -->
	</div>
	<script th:src="@{js/jquery-1.11.0.js}" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" th:src="@{js/current.js}"></script>
	<script type="text/javascript" th:src="@{js/city-data.js}"></script> <!--citys 在这里引入了data -->
	<script type="text/javascript" th:src="@{js/hzw-city-picker.min.js}"></script>
	<script th:src="@{js/treeBox.js}"></script>
	<script th:src="@{js/data.js}"></script> <!--jobs 在这里引入了data -->
	<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js}"></script>
    <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.0/plugins/ScrollToPlugin.min.js}"></script>
    <script th:src="@{https://masonry.desandro.com/masonry.pkgd.js}"></script>
    <script th:src="@{https://unpkg.com/imagesloaded@4.1.4/imagesloaded.pkgd.min.js}"></script>
    <script th:src="@{js/demo.js}"></script>
	<script>
		treeBox({
			el:'$(".focusEl")', //焦点事件DOM 必传
			// width:{ // 各级列表宽度 可选 不传默认值就为 160，160，160，200
			//     lv1:160,
			//     lv2:160,
			//     lv3:160,
			//     selected:200
			// },
			// selectedNum:3,// 设置可以选择多少个复选框 可选 不传默认3
			// height:280, //高度 不传默认值 280
			selectedNum:5,
			data:jobs.info, //数据 必传
			topData:hotJobs.data,// 常用数据 可选
			confirm:function (res) { //回调函数 必传 会以json的格式返回所选中的数据
				for(var k in res) {
					$(".jobType").eq(k).val(res[k].value);
					$(".jobType").eq(k).attr('name','jobType['+ res[k].uid +']');
				}
			}
		});
        $(function(){
            new SelectTag({
                child: ".default", /*所有默认*/
                over: 'on', /*当前选中*/
                all: ".all" /*默认全部*/
            });
        })
        var cityPicker = new HzwCityPicker({
	        data: data,
	        target: 'cityChoice',
	        valType: 'k-v',
	        hideCityInput: {
	            name: 'city',
	            id: 'city'
	        },
	        hideProvinceInput: {
	            name: 'province',
	            id: 'province'
	        },
	        callback: function(){
	        }
    	});
        
        function search(){	
			$("#search").bind("click",function(){
				var re_job = "%"+$("#job").val()+"%";
				var re_city = "%"+$("#cityChoice").val()+"%";
				var params = $("#searchForm").serialize();
				
				 /** 发起异步请求登录 */
				 $.ajax({
					 url:"/selectJob",
					 type: "post",
					 dataType : "json",
					 data : {
						 re_job : re_job,
						 re_city : re_city
					 } ,
					 async : true ,  // 是异步还是异步中的同步
					 success : function(result){
							window.location ="/searchJob";
					 }
				 })
			})
		}
       	cityPicker.init();
    	search();
	</script>
</body>


</html>
